<!DOCTYPE html>
<html lang="tr">
<head>
	<meta charset="utf-8">
	<title>Dynamic Menu CodeIgniter</title>
	
	<meta name="description" content="Example how to create a Dynamic Menu with CodeIgniter">
	
	<meta name="author" content="Luis Vásquez">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
	 
	<script type="text/javascript">
	
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-47464063-1', 'lvasquez.github.io');
	  ga('send', 'pageview');

	</script>


</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/lvasquez">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/levb20">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:levb20@hotmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="/">
				<img src="http://www.gravatar.com/avatar/63b699e76ea5e7891f6e60b7825777a6?s=35" class="img-circle" />
				Luis' Blog
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/about.html">About</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i> Home</a></li>
			<li><a href="/about.html"><i class="fa fa-user"></i> About</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i> Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i> Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i> Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs">
		<! -- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="http://www.gravatar.com/avatar/63b699e76ea5e7891f6e60b7825777a6?s=150" class="img-circle" />
	</a>
	<h3 class="title">
        <a href="/">Luis' Blog</a>
    </h3>
</header>


<div id="bio" class="text-center">
	Software Development!<br/>Open Source<br/>BDD/TDD<br/>Coffee and Beers =)
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/lvasquez">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/levb20">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:levb20@hotmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		<li>
			<a class="btn btn-default btn-sm" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<! -- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
  <h1>Dynamic Menu CodeIgniter </h1>
</div>
	
<article>

	<div class="col-sm-12">
	 <span class="post-date">
	   
	   August 
	   19th,
	   
	   2013
	 </span>
	  <div class="article_body">
	  <p>
This is a old post that I have in another host with other domain, so I re-post this one, because this blog will be the only one.
A few months i started a new project and i needed create a dynamic menu that work with a database, so i create one using jQuery and you can view the files and download the codesource at the <a href="https://github.com/lvasquez/Dynamic-Menu-CodeIgniter" target="_blank">Github repository</a>. Right now i’m working with a master-multi-detail form, when i finished i will post.
so first we need to create our database like this:
</p>

<div class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="c1">-- Database name: `menu`</span>
<span class="c1">-- Because I am modifing it to use this new menu</span>
<span class="c1">-- This will also work stand alone with the code below</span>
<span class="c1">-- Like I said this is not finished yet!</span>
<span class="c1">--</span>
<span class="c1">-- you may use it under the GPL v3 Licence.</span>
<span class="c1">-- --------------------------------------------------------</span>
<span class="c1">-- Table structure for table `dyn_menu`</span>
<span class="c1">--</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">dyn_menu</span><span class="o">`</span><span class="p">;</span>
 
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">dyn_menu</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span>                <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>            <span class="k">NOT</span> <span class="k">NULL</span>    <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="o">`</span><span class="n">title</span><span class="o">`</span>            <span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">link_type</span><span class="o">`</span>        <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>        <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;uri&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">page_id</span><span class="o">`</span>            <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>            <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">module_name</span><span class="o">`</span>        <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>        <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">url</span><span class="o">`</span>                <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">uri</span><span class="o">`</span>                <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">dyn_group_id</span><span class="o">`</span>    <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>            <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="k">position</span><span class="o">`</span>        <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>            <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">target</span><span class="o">`</span>            <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>                    <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">parent_id</span><span class="o">`</span>        <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>            <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">is_parent</span><span class="o">`</span>        <span class="n">tinyint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">show_menu</span><span class="o">`</span>        <span class="n">enum</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span>    <span class="k">DEFAULT</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="o">`</span><span class="n">dyn_group_id</span> <span class="o">-</span> <span class="n">normal</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">dyn_group_id</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span> <span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8_unicode_ci</span><span class="p">;</span>
 
<span class="c1">-- Dumping data for table `dyn_menu`</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">dyn_menu</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">title</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">link_type</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">page_id</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">module_name</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">url</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">uri</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">dyn_group_id</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="k">position</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">target</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">parent_id</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">is_parent</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">show_menu</span><span class="o">`</span><span class="p">)</span> <span class="k">VALUES</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="s1">&#39;Category 1&#39;</span><span class="p">,</span>             <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category1.com&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span>  <span class="s1">&#39;Category 2&#39;</span><span class="p">,</span>             <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category2.com&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span>  <span class="s1">&#39;Category 3&#39;</span><span class="p">,</span>             <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category3.com&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,</span>  <span class="s1">&#39;Category 4&#39;</span><span class="p">,</span>             <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category4.com&#39;</span><span class="p">,</span>    <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">5</span><span class="p">,</span>  <span class="s1">&#39;Category 1 - 1&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category11.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">6</span><span class="p">,</span>  <span class="s1">&#39;Category 1 - 2&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category12.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">7</span><span class="p">,</span>  <span class="s1">&#39;Category 1 - 2 - 1&#39;</span><span class="p">,</span>     <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category121.com&#39;</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">8</span><span class="p">,</span>  <span class="s1">&#39;Category 1 - 2 - 2&#39;</span><span class="p">,</span>     <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category122.com&#39;</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">9</span><span class="p">,</span>  <span class="s1">&#39;Category 1 - 2 - 2 - 1&#39;</span><span class="p">,</span> <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category1221.com&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;Category 1 - 2 - 2 - 2&#39;</span><span class="p">,</span> <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category1222.com&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 1&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category31.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 2&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category32.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 3&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category33.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 4&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category34.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 5&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category35.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;Category 3 - 6&#39;</span><span class="p">,</span>         <span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.category36.com&#39;</span><span class="p">,</span>   <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">);</span>
 
<span class="c1">-- --------------------------------------------------------</span>
<span class="c1">-- Table structure for table `dyn_groups`</span>
 
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">dyn_groups</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span>        <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>        <span class="k">NOT</span> <span class="k">NULL</span>    <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="o">`</span><span class="n">title</span><span class="o">`</span>    <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">abbrev</span><span class="o">`</span>    <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span> <span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8_unicode_ci</span> <span class="k">COMMENT</span><span class="o">=</span><span class="s1">&#39;Navigation groupings. Eg, header, sidebar, footer, etc&#39;</span> <span class="p">;</span>
 
<span class="c1">-- Dumping data for table `dyn_groups`</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">dyn_groups</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">title</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">abbrev</span><span class="o">`</span><span class="p">)</span> <span class="k">VALUES</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Header&#39;</span><span class="p">,</span>   <span class="s1">&#39;header&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Sidebar&#39;</span><span class="p">,</span>  <span class="s1">&#39;sidebar&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Footer&#39;</span><span class="p">,</span>   <span class="s1">&#39;footer&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Topbar&#39;</span><span class="p">,</span>   <span class="s1">&#39;topbar&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Sidebar1&#39;</span><span class="p">,</span> <span class="s1">&#39;sidebar1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Sidebar2&#39;</span><span class="p">,</span> <span class="s1">&#39;sidebar2&#39;</span><span class="p">);</span></code></pre></div>
and then you need to config your config folder the <strong>autoload.php</strong>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">$autoload[&#39;libraries&#39;] = array(&#39;database&#39;, &#39;Dynamic_menu&#39;);</span>
<span class="x">$autoload[&#39;helper&#39;] = array(&#39;url&#39;, &#39;file&#39;);</span></code></pre></div>
and the <strong>database.php</strong>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">$active_group = &#39;default&#39;;</span>
<span class="x">$active_record = TRUE;</span>
<span class="x"> </span>
<span class="x">$db[&#39;default&#39;][&#39;hostname&#39;] = &#39;localhost&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;username&#39;] = &#39;root&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;password&#39;] = &#39;12345&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;database&#39;] = &#39;menu&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;dbdriver&#39;] = &#39;mysql&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;dbprefix&#39;] = &#39;&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;pconnect&#39;] = TRUE;</span>
<span class="x">$db[&#39;default&#39;][&#39;db_debug&#39;] = TRUE;</span>
<span class="x">$db[&#39;default&#39;][&#39;cache_on&#39;] = FALSE;</span>
<span class="x">$db[&#39;default&#39;][&#39;cachedir&#39;] = &#39;&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;char_set&#39;] = &#39;utf8&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;dbcollat&#39;] = &#39;utf8_general_ci&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;swap_pre&#39;] = &#39;&#39;;</span>
<span class="x">$db[&#39;default&#39;][&#39;autoinit&#39;] = TRUE;</span>
<span class="x">$db[&#39;default&#39;][&#39;stricton&#39;] = FALSE;</span></code></pre></div>
and then we create our library menu called <strong>Dynamic_menu.php</strong> in the libraries folder
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="cm">/*</span>
<span class="cm"> * Dynmic_menu.php</span>
<span class="cm"> */</span>
<span class="k">class</span> <span class="nc">Dynamic_menu</span> <span class="p">{</span>
 
    <span class="k">private</span> <span class="nv">$ci</span><span class="p">;</span>            <span class="c1">// para CodeIgniter Super Global Referencias o variables globales</span>
    <span class="k">private</span> <span class="nv">$id_menu</span>        <span class="o">=</span> <span class="s1">&#39;id=&quot;menu&quot;&#39;</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$class_menu</span>        <span class="o">=</span> <span class="s1">&#39;class=&quot;menu&quot;&#39;</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$class_parent</span>    <span class="o">=</span> <span class="s1">&#39;class=&quot;parent&quot;&#39;</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$class_last</span>        <span class="o">=</span> <span class="s1">&#39;class=&quot;last&quot;&#39;</span><span class="p">;</span>
    <span class="c1">// --------------------------------------------------------------------</span>
    <span class="sd">/**</span>
<span class="sd">     * PHP5        Constructor</span>
<span class="sd">     *</span>
<span class="sd">     */</span>
    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ci</span> <span class="o">=&amp;</span> <span class="nx">get_instance</span><span class="p">();</span>    <span class="c1">// get a reference to CodeIgniter.</span>
    <span class="p">}</span>
    <span class="c1">// --------------------------------------------------------------------</span>
     <span class="sd">/**</span>
<span class="sd">     * build_menu($table, $type)</span>
<span class="sd">     *</span>
<span class="sd">     * Description:</span>
<span class="sd">     *</span>
<span class="sd">     * builds the Dynaminc dropdown menu</span>
<span class="sd">     * $table allows for passing in a MySQL table name for different menu tables.</span>
<span class="sd">     * $type is for the type of menu to display ie; topmenu, mainmenu, sidebar menu</span>
<span class="sd">     * or a footer menu.</span>
<span class="sd">     *</span>
<span class="sd">     * @param    string    the MySQL database table name.</span>
<span class="sd">     * @param    string    the type of menu to display.</span>
<span class="sd">     * @return    string    $html_out using CodeIgniter achor tags.</span>
<span class="sd">     */</span>
 
    <span class="k">function</span> <span class="nf">build_menu</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$menu</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
 
     <span class="nv">$query</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ci</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">&quot;select * from dyn_menu&quot;</span><span class="p">);</span>
 
        <span class="c1">// now we will build the dynamic menus.</span>
        <span class="nv">$html_out</span>  <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;div &#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id_menu</span><span class="o">.</span><span class="s1">&#39;&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 
        <span class="sd">/**</span>
<span class="sd">         * check $type for the type of menu to display.</span>
<span class="sd">         *</span>
<span class="sd">         * ( 0 = top menu ) ( 1 = horizontal ) ( 2 = vertical ) ( 3 = footer menu ).</span>
<span class="sd">         */</span>
        <span class="k">switch</span> <span class="p">(</span><span class="nv">$type</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>            <span class="c1">// 0 = top menu</span>
                <span class="k">break</span><span class="p">;</span>
 
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>            <span class="c1">// 1 = horizontal menu</span>
                <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;ul &#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">class_menu</span><span class="o">.</span><span class="s1">&#39;&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
 
            <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>            <span class="c1">// 2 = sidebar menu</span>
                <span class="k">break</span><span class="p">;</span>
 
            <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>            <span class="c1">// 3 = footer menu</span>
                <span class="k">break</span><span class="p">;</span>
 
            <span class="k">default</span><span class="o">:</span>        <span class="c1">// default = horizontal menu</span>
                <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;ul &#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">class_menu</span><span class="o">.</span><span class="s1">&#39;&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
 
    <span class="c1">// me despliega del query los rows de la base de datos que deseo utilizar</span>
      <span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
                <span class="nv">$title</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
                <span class="nv">$link_type</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">link_type</span><span class="p">;</span>
                <span class="nv">$page_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">page_id</span><span class="p">;</span>
                <span class="nv">$module_name</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">module_name</span><span class="p">;</span>
                <span class="nv">$url</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">url</span><span class="p">;</span>
                <span class="nv">$uri</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">;</span>
                <span class="nv">$dyn_group_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">dyn_group_id</span><span class="p">;</span>
                <span class="nv">$position</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">position</span><span class="p">;</span>
                <span class="nv">$target</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">target</span><span class="p">;</span>
                <span class="nv">$parent_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">parent_id</span><span class="p">;</span>
                <span class="nv">$is_parent</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">is_parent</span><span class="p">;</span>
                <span class="nv">$show_menu</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">show_menu</span><span class="p">;</span>
 
              <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nv">$show_menu</span> <span class="o">&amp;&amp;</span> <span class="nv">$parent_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>   <span class="c1">// are we allowed to see this menu?</span>
 
                <span class="p">{</span>
 
                    <span class="k">if</span> <span class="p">(</span><span class="nv">$is_parent</span> <span class="o">==</span> <span class="k">TRUE</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="c1">// CodeIgniter&#39;s anchor(uri segments, text, attributes) tag.</span>
 
<span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;li&gt;&#39;</span><span class="o">.</span><span class="nx">anchor</span><span class="p">(</span><span class="nv">$url</span><span class="o">.</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">class_parent</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;name=&quot;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&quot; id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot; target=&quot;&#39;</span><span class="o">.</span><span class="nv">$target</span><span class="o">.</span><span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
 
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
    <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;li&gt;&#39;</span><span class="o">.</span><span class="nx">anchor</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;name=&quot;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&quot; id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot; target=&quot;&#39;</span><span class="o">.</span><span class="nv">$target</span><span class="o">.</span><span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
                    <span class="p">}</span>
 
               <span class="p">}</span>
 
             <span class="p">}</span>
           <span class="nv">$html_out</span> <span class="o">.=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get_childs</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
          <span class="c1">// print_r($id);</span>
        <span class="p">}</span>
         <span class="c1">// loop through and build all the child submenus.</span>
 
        <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;/ul&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;/div&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 
        <span class="k">return</span> <span class="nv">$html_out</span><span class="p">;</span>
    <span class="p">}</span>
     <span class="sd">/**</span>
<span class="sd">     * get_childs($menu, $parent_id) - SEE Above Method.</span>
<span class="sd">     *</span>
<span class="sd">     * Description:</span>
<span class="sd">     *</span>
<span class="sd">     * Builds all child submenus using a recurse method call.</span>
<span class="sd">     *</span>
<span class="sd">     * @param    mixed    $id</span>
<span class="sd">     * @param    string    $id usuario</span>
<span class="sd">     * @return    mixed    $html_out if has subcats else FALSE</span>
<span class="sd">     */</span>
    <span class="k">function</span> <span class="nf">get_childs</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$has_subcats</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>
 
        <span class="nv">$html_out</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\n\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;div&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;ul&gt;&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 
        <span class="c1">// query q me ejecuta el submenu filtrando por usuario y para buscar el submenu segun el id que traigo</span>
         <span class="nv">$query</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ci</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">&quot;select * from dyn_menu where parent_id = </span><span class="si">$id</span><span class="s2">&quot;</span><span class="p">);</span>
 
         <span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
                <span class="nv">$title</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
                <span class="nv">$link_type</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">link_type</span><span class="p">;</span>
                <span class="nv">$page_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">page_id</span><span class="p">;</span>
                <span class="nv">$module_name</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">module_name</span><span class="p">;</span>
                <span class="nv">$url</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">url</span><span class="p">;</span>
                <span class="nv">$uri</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">;</span>
                <span class="nv">$dyn_group_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">dyn_group_id</span><span class="p">;</span>
                <span class="nv">$position</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">position</span><span class="p">;</span>
                <span class="nv">$target</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">target</span><span class="p">;</span>
                <span class="nv">$parent_id</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">parent_id</span><span class="p">;</span>
                <span class="nv">$is_parent</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">is_parent</span><span class="p">;</span>
                <span class="nv">$show_menu</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">show_menu</span><span class="p">;</span>
 
                <span class="nv">$has_subcats</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
 
                <span class="k">if</span> <span class="p">(</span><span class="nv">$is_parent</span> <span class="o">==</span> <span class="k">TRUE</span><span class="p">)</span>
                <span class="p">{</span>
      <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;li&gt;&#39;</span><span class="o">.</span><span class="nx">anchor</span><span class="p">(</span><span class="nv">$url</span><span class="o">.</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">class_parent</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;name=&quot;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&quot; id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot; target=&quot;&#39;</span><span class="o">.</span><span class="nv">$target</span><span class="o">.</span><span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
 
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                   <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;li&gt;&#39;</span><span class="o">.</span><span class="nx">anchor</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="s1">&#39;&lt;span&gt;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;name=&quot;&#39;</span><span class="o">.</span><span class="nv">$title</span><span class="o">.</span><span class="s1">&#39;&quot; id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot; target=&quot;&#39;</span><span class="o">.</span><span class="nv">$target</span><span class="o">.</span><span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
                <span class="p">}</span>
 
                <span class="c1">// Recurse call to get more child submenus.</span>
                   <span class="nv">$html_out</span> <span class="o">.=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get_childs</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
      <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;/ul&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
      <span class="nv">$html_out</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\t\t\t\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="s1">&#39;&lt;/div&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 
        <span class="k">return</span> <span class="p">(</span><span class="nv">$has_subcats</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$html_out</span> <span class="o">:</span> <span class="k">FALSE</span><span class="p">;</span>
 
    <span class="p">}</span>
<span class="p">}</span>
 
<span class="c1">// ------------------------------------------------------------------------</span>
<span class="c1">// End of Dynamic_menu Library Class.</span>
<span class="c1">// ------------------------------------------------------------------------</span>
<span class="cm">/* End of file Dynamic_menu.php */</span>
<span class="cm">/* Location: ../application/libraries/Dynamic_menu.php */</span></code></pre></div>
and then my VIEW
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">&lt;html &gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt;</span>
<span class="x">    &lt;title&gt;Welcome to CodeIgniter&lt;/title&gt;</span>
<span class="x">    &lt;base href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">base_url</span><span class="p">();</span><span class="cp">?&gt;</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;link type=&quot;text/css&quot; href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">base_url</span><span class="p">();</span><span class="cp">?&gt;</span><span class="x">/assets/menu/menu.css&quot; rel=&quot;stylesheet&quot; /&gt;</span>
<span class="x">    &lt;!-- set javascript base_url --&gt;</span>
<span class="x">    &lt;Script type=&quot;text/javascript&quot;&gt;</span>
<span class="x">        &lt;![CDATA[</span>
<span class="x">        var base_url = &#39;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">base_url</span><span class="p">();</span><span class="cp">?&gt;</span><span class="x">&#39;;</span>
<span class="x">        ]]&gt;</span>
<span class="x">    &lt;/Script&gt;</span>
<span class="x">    &lt;Script type=&quot;text/javascript&quot; src=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">base_url</span><span class="p">();</span><span class="cp">?&gt;</span><span class="x">/assets/menu/jquery.js&quot;&gt;&lt;/Script&gt;</span>
<span class="x">    &lt;Script type=&quot;text/javascript&quot; src=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">base_url</span><span class="p">();</span><span class="cp">?&gt;</span><span class="x">/assets/menu/menu.js&quot;&gt;&lt;/Script&gt;</span>
<span class="x"> </span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="cp">&lt;?php</span>
    <span class="c1">//echo base_url();</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dynamic_menu</span><span class="o">-&gt;</span><span class="na">build_menu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;br /&gt;</span>
<span class="x">&lt;p&gt;&lt;br /&gt;Page rendered in {elapsed_time} seconds&lt;/p&gt;</span>
<span class="x">&lt;p&gt;&lt;br /&gt;&lt;a href=&quot;http://apycom.com/&quot;&gt;jQuery Menus by Apycom&lt;/a&gt;&lt;/p&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span></code></pre></div>

<p>
and finally we need to download the css and jquery in the <a href="http://apycom.com/" target="_blank">Apycom</a> page, in these case I used this one <a href="http://apycom.com/menus/8-white-smoke.html" target="_blank">apycom menu</a> and just need to create one folder in the base on the framework called assets and then create another folder into the assets call menu like these \assets\menu and there in menu folder paste your menu jQuery that you download before, and that’s it, now you have a dynamic menu using CodeIgniter with database, you got these:
</p>

<a href="http://lvasquezdotcom.files.wordpress.com/2011/08/menu2.jpg"><img src="http://lvasquezdotcom.files.wordpress.com/2011/08/menu2.jpg" alt="menu" width="932" height="289" class="aligncenter size-full wp-image-100" /></a>

	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#php-ref">
					php <span>(3)</span>
					
				</a></li>
			
		  
		</ul>
		  

		
		<ul class="list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#CodeIgniter-ref">
					CodeIgniter <span>(2)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#Dynamic Menu-ref">
					Dynamic Menu <span>(1)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#PHP-ref">
					PHP <span>(3)</span>
					
					</a>
				</li>
			
		  
		  
		</ul>
		  

		<hr>

		<div>
      <section class="share col-sm-6">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Dynamic Menu CodeIgniter&via=levb20"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
      </section>

      <section class="col-sm-6 author">
        <img src="http://www.gravatar.com/avatar/63b699e76ea5e7891f6e60b7825777a6" class="img-rounded author-image" />
        <h4 class="section-title author-name">Luis Vásquez</h4>
        <p class="author-bio">Software Development!<br/>Open Source<br/>BDD/TDD<br/>Coffee and Beers =)</p>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/2013/08/19/dynamic-combobox-with-codeigniter/" title="Dynamic Combobox with CodeIgniter">&larr; Previous</a></li>
		  
		  
		  <li class="next"><a href="/2013/08/19/multi-database-yii-framework/" title="Multi Database Yii Framework">Next &rarr;</a></li>
		  
		</ul>

		<hr>
	</div>
	
	
	
	<div class="col-sm-2 sidebar-2">
	
	</div>
</article>
<div class="clearfix"></div>



		<footer>
			<hr/>
			<p>
				&copy; 2014 Luis Vásquez with Jekyll. Theme: <a href="https://github.com/dbtek/dbyll">dbyll</a> by dbtek.
			</p>
		</footer>
		  

<script type="text/javascript">
      var disqus_shortname = 'impossiblethoughts';
      
    (function () {
    
      var countScript = document.createElement('script');
      countScript.type = 'text/javascript';
      countScript.async = true;
      countScript.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(countScript);
    }());
</script>


	</div>

	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>
